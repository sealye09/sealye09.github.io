!function(e){"use strict";class t{constructor(){this.isOpen=!1,this.menuButton=null,this.menu=null,this.header=null,this.body=null,this.transitionDuration=300,this.observers=[],this.init()}init(){try{if(this.menuButton=document.querySelector(".mobile-menu-toggle"),this.menu=document.querySelector(".mobile-menu"),this.header=document.querySelector(".site-header"),this.body=document.body,!this.menuButton||!this.menu)return;this.bindEvents(),this.initMenuState(),this.handleResize()}catch(e){}}bindEvents(){this.menuButton.addEventListener("click",this.handleMenuToggle.bind(this)),this.menu.querySelectorAll("a").forEach(e=>{e.addEventListener("click",this.handleMenuLinkClick.bind(this))}),document.addEventListener("click",this.handleOutsideClick.bind(this)),document.addEventListener("keydown",this.handleKeydown.bind(this)),window.addEventListener("resize",this.handleResize.bind(this))}initMenuState(){this.isOpen=this.menu.classList.contains("mobile-menu--open"),this.updateMenuState(),this.updateButtonState()}handleMenuToggle(e){e.preventDefault(),e.stopPropagation(),this.toggle()}handleMenuLinkClick(e){this.isOpen&&this.close()}handleOutsideClick(e){if(!this.isOpen)return;const t=this.menu.contains(e.target),i=this.menuButton.contains(e.target);t||i||this.close()}handleKeydown(e){this.isOpen&&"Escape"===e.key&&(this.close(),this.menuButton.focus())}handleResize(){!(window.innerWidth<=1024)&&this.isOpen&&this.close()}toggle(){this.isOpen?this.close():this.open()}open(){if(!this.isOpen)try{this.isOpen=!0,this.updateMenuState(),this.updateButtonState(),this.bindFocusTrap(),this.notifyObservers("open")}catch(e){}}close(){if(this.isOpen)try{this.isOpen=!1,this.updateMenuState(),this.updateButtonState(),this.unbindFocusTrap(),this.notifyObservers("close")}catch(e){}}updateMenuState(){this.isOpen?(this.menu.classList.add("mobile-menu--open"),this.body.classList.add("mobile-menu-open")):(this.menu.classList.remove("mobile-menu--open"),this.body.classList.remove("mobile-menu-open")),this.menuButton.setAttribute("aria-expanded",this.isOpen),this.menu.setAttribute("aria-hidden",!this.isOpen)}updateButtonState(){const e=this.menuButton.querySelector(".menu-icon-open"),t=this.menuButton.querySelector(".menu-icon-close");e&&t&&(this.isOpen?(e.style.display="none",t.style.display="block"):(e.style.display="block",t.style.display="none"))}bindFocusTrap(){if(!this.isOpen)return;const e=this.menu.querySelectorAll('a, button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])');this.firstFocusableElement=e[0],this.lastFocusableElement=e[e.length-1],this.firstFocusableElement&&this.firstFocusableElement.focus()}unbindFocusTrap(){this.firstFocusableElement=null,this.lastFocusableElement=null}addObserver(e){"function"==typeof e&&this.observers.push(e)}removeObserver(e){const t=this.observers.indexOf(e);t>-1&&this.observers.splice(t,1)}notifyObservers(e){this.observers.forEach(t=>{try{t(e,this.isOpen)}catch(e){}})}getState(){return{isOpen:this.isOpen,isMobile:window.innerWidth<=1024}}destroy(){this.menuButton&&this.menuButton.removeEventListener("click",this.handleMenuToggle),document.removeEventListener("click",this.handleOutsideClick),document.removeEventListener("keydown",this.handleKeydown),window.removeEventListener("resize",this.handleResize),this.close(),this.observers=[]}}const i=new t;e.BlogMobileMenu={MobileMenu:t,menu:i,create:()=>new t}}("undefined"!=typeof window?window:global);